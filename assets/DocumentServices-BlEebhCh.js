import{r as a,j as e,I as o}from"./index-GZMDUAd6.js";import{s as h}from"./storage-C4Pqcpmi.js";function y(){const[n,l]=a.useState([]),[d,m]=a.useState([]),c=a.useRef(null);a.useEffect(()=>{m(h.getDocuments())},[]);function u(s){const r=Array.from(s);l(r)}async function x(){for(const s of n){let r=null;s.size<1024*1024&&(r=await p(s));const t=h.saveDocument({name:s.name,size:s.size,type:s.type,dataUrl:r});m(i=>[t,...i])}l([]),c.current&&(c.current.value=null)}function p(s){return new Promise((r,t)=>{const i=new FileReader;i.onload=()=>r(i.result),i.onerror=t,i.readAsDataURL(s)})}return e.jsxs("div",{className:"page",children:[e.jsx("h1",{children:"Document Services"}),e.jsxs("section",{className:"upload-section card",children:[e.jsxs("div",{className:"upload-area",children:[e.jsx(o,{name:"Upload",className:"icon-large"}),e.jsx("h2",{children:"Upload Documents"}),e.jsx("p",{children:"Drag and drop files here or click to browse"}),e.jsx("input",{ref:c,type:"file",multiple:!0,onChange:s=>u(s.target.files)}),n.length>0&&e.jsx("div",{style:{marginTop:"1rem"},children:e.jsxs("button",{className:"view-all",onClick:x,children:["Submit ",n.length," file(s)"]})})]}),n.length>0&&e.jsx("div",{className:"preview-list",children:n.map((s,r)=>e.jsxs("div",{className:"preview-item",children:[e.jsx(o,{name:"Document"}),e.jsx("span",{children:s.name})]},r))})]}),e.jsxs("section",{className:"history-section card",children:[e.jsx("h2",{children:"Submission History"}),e.jsx("div",{className:"history-list",children:d.length===0?e.jsx("div",{className:"text-muted",children:"No submissions yet."}):d.map(s=>e.jsxs("div",{className:"history-item",children:[e.jsx("div",{className:"history-left",children:e.jsx(o,{name:"Document"})}),e.jsxs("div",{className:"history-main",children:[e.jsx("div",{className:"history-title",children:s.name}),e.jsxs("div",{className:"history-meta",children:[new Date(s.createdAt).toLocaleString()," â€¢ ",Math.round(s.size/1024)," KB"]})]}),e.jsx("div",{className:"history-actions",children:e.jsx("button",{className:"view-all",onClick:()=>window.open(s.dataUrl||"#"),children:"View"})})]},s.id))})]}),e.jsxs("section",{className:"card",style:{marginTop:"1rem"},children:[e.jsx("h2",{children:"Requirements"}),e.jsx("p",{children:"Ensure you have your original ID document, proof of residence, and any other supporting documents specific to your request."})]}),e.jsxs("section",{className:"card",style:{marginTop:"1rem"},children:[e.jsx("h2",{children:"Processing Times and Fees"}),e.jsx("p",{children:"Standard requests take 5-7 business days. Expedited services may be available for an additional fee."})]}),e.jsxs("section",{className:"card",style:{marginTop:"1rem"},children:[e.jsx("h2",{children:"Download Forms"}),e.jsx("p",{children:"Access forms to complete offline before submission. (Forms library coming soon.)"})]}),e.jsxs("section",{className:"card",style:{marginTop:"1rem"},children:[e.jsx("h2",{children:"Track Your Application Status"}),e.jsx("p",{children:"Use your reference number to check progress. (Tracker coming soon.)"})]})]})}export{y as default};
