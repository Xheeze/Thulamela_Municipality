import{r as s,j as e,I as A}from"./index-CMLaGl6O.js";import{s as n}from"./storage-CH_An79i.js";function k(){const[i,x]=s.useState("documents"),[c,l]=s.useState(""),[o,r]=s.useState(""),[d,v]=s.useState(""),[m,j]=s.useState(""),[p,a]=s.useState([]),[u,h]=s.useState(null);s.useEffect(()=>{a(n.getAppointments())},[]);function g(){h(null);try{const t=n.saveAppointment({service:i,date:c,time:o,name:d,contact:m});a(C=>[...C,t]),l(""),r("")}catch(t){h(t.message)}}function N(t){n.cancelAppointment(t),a(n.getAppointments())}return e.jsxs("div",{className:"page",children:[e.jsx("h1",{children:"Book Appointment"}),e.jsxs("section",{className:"booking-section card",children:[e.jsxs("div",{className:"service-select",children:[e.jsx("h2",{children:"Select Service"}),e.jsxs("select",{className:"service-dropdown",value:i,onChange:t=>x(t.target.value),children:[e.jsx("option",{value:"documents",children:"Document Processing"}),e.jsx("option",{value:"registration",children:"Registration"}),e.jsx("option",{value:"consultation",children:"Consultation"})]})]}),e.jsxs("div",{className:"date-select",children:[e.jsx("h2",{children:"Select Date & Time"}),e.jsx("input",{type:"date",className:"date-input",value:c,onChange:t=>l(t.target.value)}),e.jsxs("select",{className:"time-dropdown",value:o,onChange:t=>r(t.target.value),children:[e.jsx("option",{value:"",children:"Choose time..."}),e.jsx("option",{value:"09:00",children:"9:00 AM"}),e.jsx("option",{value:"10:00",children:"10:00 AM"}),e.jsx("option",{value:"11:00",children:"11:00 AM"}),e.jsx("option",{value:"12:00",children:"12:00 PM"}),e.jsx("option",{value:"13:00",children:"1:00 PM"}),e.jsx("option",{value:"14:00",children:"2:00 PM"})]})]}),e.jsxs("div",{className:"contact-fields",children:[e.jsx("input",{placeholder:"Full name",value:d,onChange:t=>v(t.target.value)}),e.jsx("input",{placeholder:"Contact (phone or email)",value:m,onChange:t=>j(t.target.value)})]}),u&&e.jsx("div",{className:"text-muted",children:u}),e.jsxs("button",{className:"book-btn",onClick:g,children:[e.jsx(A,{name:"Calendar"}),"Book Appointment"]})]}),e.jsxs("section",{className:"upcoming-section card",children:[e.jsx("h2",{children:"Upcoming Appointments"}),e.jsx("div",{className:"appointments-list",children:p.length===0?e.jsx("div",{className:"text-muted",children:"No upcoming appointments."}):p.map(t=>e.jsxs("div",{className:"appointment-item",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"appointment-title",children:[t.service," • ",t.date," @ ",t.time]}),e.jsxs("div",{className:"text-muted",children:[t.name," • ",t.contact]})]}),e.jsx("div",{children:t.status!=="cancelled"?e.jsx("button",{className:"view-all",onClick:()=>N(t.id),children:"Cancel"}):e.jsx("span",{className:"text-muted",children:"Cancelled"})})]},t.id))})]})]})}export{k as default};
