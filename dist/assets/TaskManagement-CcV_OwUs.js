import{r as a,j as e,I as u}from"./index-zf_QIKpT.js";import{s as c}from"./storage-CH_An79i.js";function B(){const[l,x]=a.useState([]),[m,h]=a.useState([]),[o,y]=a.useState(""),[v,p]=a.useState(!1),[s,i]=a.useState({title:"",description:"",assignedTo:"",priority:"medium",dueDate:"",category:"general"});a.useEffect(()=>{n()},[]),a.useEffect(()=>{j()},[l,o]);function n(){const t=c.getTasks();x(t)}function j(){let t=[...l];o&&(t=t.filter(r=>r.status===o)),h(t)}function f(t){t.preventDefault(),s.title.trim()&&(c.saveTask(s),n(),p(!1),i({title:"",description:"",assignedTo:"",priority:"medium",dueDate:"",category:"general"}))}function b(t,r){c.updateTask(t,{status:r}),n()}function C(t){confirm("Are you sure you want to delete this task?")&&(c.deleteTask(t),n())}const d={open:l.filter(t=>t.status==="open").length,inProgress:l.filter(t=>t.status==="in-progress").length,overdue:l.filter(t=>t.dueDate?new Date(t.dueDate)<new Date&&t.status!=="completed":!1).length,completed:l.filter(t=>t.status==="completed").length};function w(t){switch(t){case"high":return"#EF4444";case"medium":return"#F59E0B";case"low":return"#10B981";default:return"#6B7280"}}function T(t){const r={open:{bg:"#DBEAFE",color:"#1E40AF"},"in-progress":{bg:"#FEF3C7",color:"#92400E"},review:{bg:"#E0E7FF",color:"#3730A3"},completed:{bg:"#D1FAE5",color:"#065F46"}},g=r[t]||r.open;return e.jsx("span",{style:{background:g.bg,color:g.color,padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.75rem",fontWeight:"600"},children:t.replace("-"," ").toUpperCase()})}return e.jsxs("div",{className:"page",children:[e.jsx("h1",{children:"Task Management"}),e.jsxs("div",{className:"task-actions",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("button",{className:"action-btn",onClick:()=>p(!0),children:[e.jsx(u,{name:"Document"}),"Create Task"]}),e.jsxs("button",{className:"action-btn secondary",onClick:n,children:[e.jsx(u,{name:"Dashboard"}),"Refresh"]})]}),e.jsxs("section",{className:"tasks-overview",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"task-stats",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{className:"stat-card card",style:{textAlign:"center",padding:"1.5rem"},children:[e.jsx("div",{className:"stat-value",style:{fontSize:"2rem",fontWeight:"700",color:"var(--primary)"},children:d.open}),e.jsx("div",{className:"stat-label",style:{color:"var(--text-secondary)"},children:"Open"})]}),e.jsxs("div",{className:"stat-card card",style:{textAlign:"center",padding:"1.5rem"},children:[e.jsx("div",{className:"stat-value",style:{fontSize:"2rem",fontWeight:"700",color:"#F59E0B"},children:d.inProgress}),e.jsx("div",{className:"stat-label",style:{color:"var(--text-secondary)"},children:"In Progress"})]}),e.jsxs("div",{className:"stat-card card",style:{textAlign:"center",padding:"1.5rem"},children:[e.jsx("div",{className:"stat-value",style:{fontSize:"2rem",fontWeight:"700",color:"#EF4444"},children:d.overdue}),e.jsx("div",{className:"stat-label",style:{color:"var(--text-secondary)"},children:"Overdue"})]}),e.jsxs("div",{className:"stat-card card",style:{textAlign:"center",padding:"1.5rem"},children:[e.jsx("div",{className:"stat-value",style:{fontSize:"2rem",fontWeight:"700",color:"#10B981"},children:d.completed}),e.jsx("div",{className:"stat-label",style:{color:"var(--text-secondary)"},children:"Completed"})]})]}),e.jsx("div",{className:"task-filters",style:{display:"flex",gap:"1rem",marginBottom:"1.5rem"},children:e.jsxs("select",{className:"filter-dropdown",value:o,onChange:t=>y(t.target.value),style:{padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--muted)"},children:[e.jsx("option",{value:"",children:"All Tasks"}),e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"review",children:"Needs Review"}),e.jsx("option",{value:"completed",children:"Completed"})]})}),e.jsxs("div",{className:"tasks-list card",style:{padding:"1rem"},children:[e.jsxs("h2",{style:{marginBottom:"1rem"},children:["Tasks (",m.length,")"]}),m.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--text-secondary)"},children:[e.jsx(u,{name:"Document",size:48,style:{opacity:.3,marginBottom:"1rem"}}),e.jsx("p",{children:"No tasks found. Create a new task to get started."})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:m.map(t=>e.jsx("div",{className:"task-item",style:{padding:"1rem",background:"var(--light)",borderRadius:"8px",borderLeft:`4px solid ${w(t.priority)}`},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.5rem"},children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.25rem"},children:t.title}),t.description&&e.jsx("p",{style:{color:"var(--text-secondary)",fontSize:"0.875rem",marginBottom:"0.5rem"},children:t.description}),e.jsxs("div",{style:{display:"flex",gap:"1rem",fontSize:"0.75rem",color:"var(--muted)"},children:[t.assignedTo&&e.jsxs("span",{children:["👤 ",t.assignedTo]}),t.category&&e.jsxs("span",{children:["📁 ",t.category]}),t.dueDate&&e.jsxs("span",{children:["📅 ",new Date(t.dueDate).toLocaleDateString()]}),e.jsxs("span",{children:["Priority: ",t.priority]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",alignItems:"flex-end"},children:[T(t.status),e.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxs("select",{value:t.status,onChange:r=>b(t.id,r.target.value),style:{fontSize:"0.75rem",padding:"0.25rem 0.5rem",borderRadius:"4px",border:"1px solid var(--muted)"},children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in-progress",children:"In Progress"}),e.jsx("option",{value:"review",children:"Review"}),e.jsx("option",{value:"completed",children:"Completed"})]}),e.jsx("button",{onClick:()=>C(t.id),style:{background:"#EF4444",color:"white",border:"none",padding:"0.25rem 0.5rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.75rem"},children:"Delete"})]})]})]})},t.id))})]})]}),v&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto"},children:[e.jsx("h2",{style:{marginBottom:"1.5rem"},children:"Create New Task"}),e.jsxs("form",{onSubmit:f,children:[e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Title *"}),e.jsx("input",{type:"text",value:s.title,onChange:t=>i({...s,title:t.target.value}),required:!0,style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--muted)"}})]}),e.jsxs("div",{style:{marginBottom:"1rem"},children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Description"}),e.jsx("textarea",{value:s.description,onChange:t=>i({...s,description:t.target.value}),rows:3,style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--muted)"}})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Priority"}),e.jsxs("select",{value:s.priority,onChange:t=>i({...s,priority:t.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--muted)"},children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Category"}),e.jsxs("select",{value:s.category,onChange:t=>i({...s,category:t.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--muted)"},children:[e.jsx("option",{value:"general",children:"General"}),e.jsx("option",{value:"document",children:"Document Processing"}),e.jsx("option",{value:"queue",children:"Queue Management"}),e.jsx("option",{value:"maintenance",children:"Maintenance"}),e.jsx("option",{value:"complaint",children:"Complaint Resolution"})]})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Assigned To"}),e.jsx("input",{type:"text",value:s.assignedTo,onChange:t=>i({...s,assignedTo:t.target.value}),placeholder:"Staff member name",style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--muted)"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Due Date"}),e.jsx("input",{type:"date",value:s.dueDate,onChange:t=>i({...s,dueDate:t.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"6px",border:"1px solid var(--muted)"}})]})]}),e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end"},children:[e.jsx("button",{type:"button",onClick:()=>p(!1),className:"action-btn secondary",children:"Cancel"}),e.jsx("button",{type:"submit",className:"action-btn",children:"Create Task"})]})]})]})})]})}export{B as default};
